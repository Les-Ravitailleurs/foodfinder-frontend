{"version":3,"sources":["pool/couteau.svg","pool/fouet1.svg","pool/spatule.svg","assoList/restoDuCoeur.svg","assoList/secoursPop.svg","assoList/banlieueSante.png","assoList/protectionCivile.svg","collectesSummary/lemon-left.svg","collectesSummary/tomato-right.svg","collectesSummary/lemon-tomato.png","editableText/editable.svg","copyPaste/link.svg","socialShare/facebook.svg","socialShare/messenger.svg","socialShare/whatsapp.svg","socialShare/twitter.svg","pool/cookies.svg","pool/successLeftHand.svg","pool/successRightHand.svg","landing/puce-collegue.svg","landing/puce-famille.svg","landing/puce-reseau.svg","landing/tomate.svg","landing/tomateCarotte.png","pool/whitePen.svg","button/Button.js","howWorks/HowWorks.js","modal/Modal.js","input/Input.js","input/FormInput.js","textarea/TextArea.js","textarea/FormTextArea.js","api.js","poolModal/PoolModal.js","footer/Footer.js","isMobile.js","collectesSummary/CollectesSummary.js","landing/Landing.js","editableText/EditableText.js","pool/PoolDescription.js","copyPaste/CopyPaste.js","socialShare/SocialShare.js","pool/PoolSummary.js","pool/GiveModule.js","pool/Pool.js","livreur/Livreur.js","pool/DonationSuccess.js","App.js","serviceWorker.js","index.js","pool/logo_ravitailleur.svg"],"names":["module","exports","Button","type","children","disabled","onClick","className","HowWorks","Modal","onClose","useEffect","document","body","classList","add","remove","Input","placeholder","error","label","name","value","onChange","onBlur","hide","onKeyDown","style","display","FormInput","validate","field","meta","TextArea","FormTextArea","instance","axios","create","baseURL","process","PoolModal","pool","messageMode","history","useHistory","initialValues","creatorName","creatorEmail","message","validateOnChange","validateOnBlur","onSubmit","values","a","setSubmitting","api","post","poolId","id","adminId","data","push","isSubmitting","errors","handleChange","handleBlur","trim","length","email","isEmail","Footer","href","src","logo","alt","minWidth","target","rel","isPhone","isMobile","window","navigator","phone","Gauge","collectesPercent","isVisible","useState","decale","setDecale","defaultOptions","loop","autoplay","animationData","cuistot","rendererSettings","preserveAspectRatio","setTimeout","Math","round","marginLeft","height","width","options","isClickToPauseDisabled","color","right","CollectesSummary","mealsCount","donatorsCount","now","moment","daysCount","diff","lemon","tomato","lemontomato","toLocaleString","parseInt","Landing","poolData","setPoolData","getPool","useCallback","get","console","log","updateContentIfReady","to","ReactGA","event","category","action","startAt","mealCount","donationsCount","data-toggle","data-target","tabIndex","role","aria-labelledby","aria-hidden","data-dismiss","aria-label","EditableText","text","editable","PoolDescription","showEditModal","setShowEditModal","messageEdit","admin","logoRavitailleurs","CopyPaste","copied","setCopied","textToCopy","location","protocol","host","link","data-clipboard-text","onSuccess","SocialShare","url","TwitterShareButton","title","twitter","FacebookShareButton","quote","fb","WhatsappShareButton","whatsapp","open","messenger","top","position","PoolSummary","donationsNames","join","stripePromise","loadStripe","GiveModule","setMealCount","editorMealCount","setEditorMealCount","submitting","editMealCount","setEditMealCount","showTaxModal","setShowTaxModal","GiveIcon","addCount","GiveCountButton","giveCount","price","parseFloat","validateEditMeal","e","newInt","Number","isNaN","keyCode","marginBottom","fontSize","donatorName","donatorAddress","hideDonatorName","stripe","redirectToCheckout","sessionId","checkoutSessionId","textAlign","alignItems","margin","fontWeight","Pool","setPool","savedAdminId","localStorage","getItem","removeItem","setItem","maxWidth","fouet","spatule","couteau","Title","Typography","Paragraph","Livreur","livreurId","useParams","livreurData","setLivreurData","date","setDate","JSON","parse","validatedTasks","setValidatedTasks","setValidatedTasksAndSave","tasks","stringify","getData","tip","livreur","description","dates","uniq","map","d","level","planningId","tournees","forEach","LeftSquareTwoTone","tourneeIndex","horaire","task","taskIsDone","indexOf","PhoneTwoTone","contact","extra","CheckCircleTwoTone","twoToneColor","size","without","destinationId","startsWith","encodeURI","fullAddress","complementAddress","details","comment","recuperer","deposer","LivreurContainer","DonationSuccess","showPoolModal","setShowPoolModal","isReceiptAvailable","setIsReceiptAvailable","taxReceipt","queryString","search","receiptURL","checkReceipt","timer","clearTimeout","successLeftHand","successRightHand","cookies","initialize","AppContent","useLocation","set","page","pathname","pageview","path","App","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.4835514d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/couteau.aff6a4a1.svg\";","module.exports = __webpack_public_path__ + \"static/media/fouet1.b63718ef.svg\";","module.exports = __webpack_public_path__ + \"static/media/spatule.b489d4f7.svg\";","module.exports = __webpack_public_path__ + \"static/media/restoDuCoeur.2442ee94.svg\";","module.exports = __webpack_public_path__ + \"static/media/secoursPop.5b3d750a.svg\";","module.exports = __webpack_public_path__ + \"static/media/banlieueSante.9b81497d.png\";","module.exports = __webpack_public_path__ + \"static/media/protectionCivile.de40f571.svg\";","module.exports = __webpack_public_path__ + \"static/media/lemon-left.00ef129d.svg\";","module.exports = __webpack_public_path__ + \"static/media/tomato-right.0f589495.svg\";","module.exports = __webpack_public_path__ + \"static/media/lemon-tomato.3498b174.png\";","module.exports = __webpack_public_path__ + \"static/media/editable.01305996.svg\";","module.exports = __webpack_public_path__ + \"static/media/link.01959ea9.svg\";","module.exports = __webpack_public_path__ + \"static/media/facebook.e878d9e3.svg\";","module.exports = __webpack_public_path__ + \"static/media/messenger.f2f50094.svg\";","module.exports = __webpack_public_path__ + \"static/media/whatsapp.dc8e6e28.svg\";","module.exports = __webpack_public_path__ + \"static/media/twitter.da1e29cb.svg\";","module.exports = __webpack_public_path__ + \"static/media/cookies.c861e968.svg\";","module.exports = __webpack_public_path__ + \"static/media/successLeftHand.5e574f04.svg\";","module.exports = __webpack_public_path__ + \"static/media/successRightHand.8b78f375.svg\";","module.exports = __webpack_public_path__ + \"static/media/puce-collegue.7da8c765.svg\";","module.exports = __webpack_public_path__ + \"static/media/puce-famille.a5717d79.svg\";","module.exports = __webpack_public_path__ + \"static/media/puce-reseau.c1c164ee.svg\";","module.exports = __webpack_public_path__ + \"static/media/tomate.55145f70.svg\";","module.exports = __webpack_public_path__ + \"static/media/tomateCarotte.cddc1151.png\";","module.exports = __webpack_public_path__ + \"static/media/whitePen.5db4b445.svg\";","import React from \"react\";\n\nimport \"./Button.css\";\n\nconst Button = ({ type = \"submit\", children, disabled, onClick }) => {\n  return (\n    <button\n      className={`Button ${disabled ? \"Button--disabled\" : \"\"}`}\n      type={type}\n      onClick={disabled ? null : onClick}\n    >\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from \"react\";\n\nimport \"./HowWorks.css\";\n\nconst HowWorks = () => {\n  return (\n    <>\n      <h2 className=\"HowWorks__title\">Comment ça marche&nbsp;?</h2>\n      <div className=\"HowWorks\">\n        <div className=\"HowWorks__step\">\n          <div className=\"HowWorks__step__number\">1.</div>\n          <div className=\"HowWorks__step__description\">\n            Vous financez les\n            <br />\n            matières premières\n          </div>\n        </div>\n        <div className=\"HowWorks__step\">\n          <div className=\"HowWorks__step__number\">2.</div>\n          <div className=\"HowWorks__step__description\">\n            Nos chefs partenaires\n            <br />\n            cuisinent les repas\n          </div>\n        </div>\n        <div className=\"HowWorks__step\">\n          <div className=\"HowWorks__step__number\">3.</div>\n          <div className=\"HowWorks__step__description\">\n            Nos associations <br />\n            partenaires les distribuent\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default HowWorks;\n","import React, { useEffect } from \"react\";\n\nimport \"./Modal.css\";\n\nconst Modal = ({ children, onClose }) => {\n  useEffect(() => {\n    document.body.classList.add(\"modal-open\");\n    return () => {\n      document.body.classList.remove(\"modal-open\");\n    };\n  }, []);\n  return (\n    <div className=\"Modal__wrapper\">\n      <div className=\"Modal\">\n        <div className=\"Modal__closeButton\" onClick={onClose}>\n          &#215;\n        </div>\n        <div className=\"Modal__leftHand\"></div>\n        <div className=\"Modal__content\">{children}</div>\n        <div className=\"Modal__rightHand\"></div>\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","import React from \"react\";\n\nimport \"./Input.css\";\n\nconst Input = ({\n  placeholder,\n  error,\n  label,\n  name,\n  value,\n  onChange,\n  onBlur,\n  hide,\n  onKeyDown,\n}) => {\n  return (\n    <div className=\"Input__wrapper\" style={{ display: hide ? \"none\" : \"auto\" }}>\n      {label && <label className=\"Input__label\">{label}</label>}\n      <input\n        className={`Input ${error ? \"Input--error\" : \"\"}`}\n        placeholder={placeholder}\n        name={name}\n        value={value}\n        onChange={onChange}\n        onBlur={onBlur}\n        onKeyDown={onKeyDown}\n      ></input>\n      {error && <div className=\"Input__error\">{error}</div>}\n    </div>\n  );\n};\n\nexport default Input;\n","import React from \"react\";\nimport { Field } from \"formik\";\n\nimport Input from \"./Input\";\n\nconst FormInput = ({ name, validate, placeholder, label, hide }) => {\n  return (\n    <Field name={name} validate={validate}>\n      {({ field, meta }) => (\n        <Input\n          placeholder={placeholder}\n          label={label}\n          name={name}\n          value={field.value}\n          onChange={field.onChange}\n          onBlur={field.onBlur}\n          error={meta.error}\n          hide={hide}\n        />\n      )}\n    </Field>\n  );\n};\n\nexport default FormInput;\n","import React from \"react\";\n\nimport \"./TextArea.css\";\n\nconst TextArea = ({\n  placeholder,\n  error,\n  label,\n  name,\n  value,\n  onChange,\n  onBlur,\n  hide,\n}) => {\n  return (\n    <div\n      className=\"TextArea__wrapper\"\n      style={{ display: hide ? \"none\" : \"block\" }}\n    >\n      {label && <label className=\"TextArea__label\">{label}</label>}\n      <textarea\n        className={`TextArea ${error ? \"TextArea--error\" : \"\"}`}\n        placeholder={placeholder}\n        name={name}\n        value={value}\n        onChange={onChange}\n        onBlur={onBlur}\n      >\n        {value}\n      </textarea>\n      {error && <div className=\"TextArea__error\">{error}</div>}\n    </div>\n  );\n};\n\nexport default TextArea;\n","import React from \"react\";\nimport { Field } from \"formik\";\n\nimport TextArea from \"./TextArea\";\n\nconst FormTextArea = ({ name, validate, placeholder, label, hide }) => {\n  return (\n    <Field name={name} validate={validate}>\n      {({ field, meta }) => (\n        <TextArea\n          placeholder={placeholder}\n          label={label}\n          name={name}\n          value={field.value}\n          onChange={field.onChange}\n          onBlur={field.onBlur}\n          error={meta.error}\n          hide={hide}\n        />\n      )}\n    </Field>\n  );\n};\n\nexport default FormTextArea;\n","import axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL: process.env.REACT_APP_API_BASE_URL,\n});\n\nexport default instance;\n","import React from \"react\";\nimport { Formik, Form } from \"formik\";\nimport isEmail from \"validator/lib/isEmail\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Modal from \"../modal/Modal\";\nimport FormInput from \"../input/FormInput\";\nimport FormTextArea from \"../textarea/FormTextArea\";\nimport Button from \"../button/Button\";\nimport api from \"../api\";\n\nimport \"./PoolModal.css\";\n\nconst PoolModal = ({ onClose, pool, messageMode }) => {\n  const history = useHistory();\n  return (\n    <Modal onClose={onClose}>\n      {pool && !messageMode && <h1>Editez votre collecte</h1>}\n      {pool && messageMode && <h1>Editez votre message</h1>}\n      {!pool && (\n        <h1>\n          Créez votre collecte:\n          <br />\n          c'est facile&nbsp;!\n        </h1>\n      )}\n      {!pool && (\n        <p className=\"PoolModal__description\">\n          Vous êtes la personne la mieux placée pour proposer à vos proches,\n          collègues, amis, followers d’offrir des repas pour les plus démunis.\n          Créez votre collecte en un clic. Les fonds collectés iront directement\n          dans l’achat de matière première.\n        </p>\n      )}\n      <Formik\n        initialValues={{\n          creatorName: pool ? pool.creatorName : \"\",\n          creatorEmail: pool ? pool.creatorEmail : \"\",\n          message: pool ? pool.message : \"\",\n        }}\n        validateOnChange={false}\n        validateOnBlur={false}\n        onSubmit={async (values, { setSubmitting }) => {\n          const { data } = await api.post(\"/pool\", {\n            ...values,\n            poolId: pool ? pool.id : null,\n            adminId: pool ? pool.adminId : null,\n          });\n          if (pool) {\n            // Close\n            onClose();\n          } else {\n            history.push(`/collecte/${data.id}/admin/${data.adminId}`);\n          }\n        }}\n      >\n        {({ isSubmitting, values, handleChange, handleBlur, errors }) => (\n          <Form>\n            <FormInput\n              name=\"creatorName\"\n              label=\"Entrez votre prénom\"\n              placeholder=\"Prénom\"\n              value={values.creatorName}\n              // onChange={handleChange}\n              // onBlur={handleBlur}\n              error={errors.creatorName}\n              validate={(name) => {\n                if (name.trim().length === 0) {\n                  return \"Veuillez entrer votre prénom\";\n                } else if (name.trim().length === 1) {\n                  return \"Veuillez entrer un prénom d'au moins 2 caractères\";\n                } else if (name.trim().length >= 30) {\n                  return \"Veuillez entrer un prénom de moins de 30 caractères\";\n                }\n              }}\n              hide={pool && messageMode}\n            />\n            <FormInput\n              name=\"creatorEmail\"\n              label=\"Entrez votre adresse email\"\n              placeholder=\"Adresse email\"\n              value={values.creatorEmail}\n              // onChange={handleChange}\n              // onBlur={handleBlur}\n              error={errors.creatorEmail}\n              validate={(email) => {\n                if (email.trim().length === 0) {\n                  return \"Veuillez entrer votre adresse email\";\n                } else if (!isEmail(email)) {\n                  return \"Veuillez entrer une adresse email valide\";\n                }\n              }}\n              hide={pool && messageMode}\n            />\n            <FormTextArea\n              name=\"message\"\n              label=\"Entrez votre message\"\n              placeholder=\"Message\"\n              value={values.message}\n              hide={!pool || !messageMode}\n            ></FormTextArea>\n            <Button type=\"submit\" disabled={isSubmitting}>\n              {pool\n                ? messageMode\n                  ? \"Valider le message\"\n                  : \"Je modifie ma collecte\"\n                : \"Je crée ma collecte\"}\n            </Button>\n          </Form>\n        )}\n      </Formik>\n    </Modal>\n  );\n};\n\nexport default PoolModal;\n","import React from \"react\";\n\nimport \"./Footer.css\";\nimport logo from \"../pool/logo_ravitailleur.svg\";\n\nconst Footer = () => {\n  return (\n    <div className=\"Footer\">\n      <div className=\"Footer_filler\"></div>\n      <div className=\"Footer__content\">\n        <a href=\"/\">\n          <img src={logo} alt=\"logo\" />\n        </a>\n        <span style={{minWidth: '180px'}}>\n          Design par{\" \"}\n          <a href=\"https://source.paris/\" target=\"_blank\" rel=\"noopener noreferrer\">\n            Source\n          </a><span className=\"desktopOnly\"> & </span><span className=\"mobileOnly\">,<br/></span>\n          Développement par <a href=\"mailto:noe.malzieu@gmail.com\">Noé Malzieu</a>\n        </span>\n        <span>Tous droits réservés © 2020</span>\n      </div>\n    </div>\n  );\n};\n\nexport default Footer;\n","import isMobile from \"ismobilejs\";\n\nconst isPhone = isMobile(window.navigator).phone;\n\nexport default isPhone;","import React, { useState } from \"react\";\nimport Lottie from \"react-lottie\";\nimport TrackVisibility from \"react-on-screen\";\nimport moment from \"moment\";\n\nimport cuistot from \"./cuistot.json\";\nimport lemon from \"./lemon-left.svg\";\nimport tomato from \"./tomato-right.svg\";\nimport lemontomato from \"./lemon-tomato.png\";\n\nimport \"./CollectesSummary.css\";\n\nconst Gauge = ({ collectesPercent, isVisible }) => {\n  const [decale, setDecale] = useState(false);\n  const defaultOptions = {\n    loop: true,\n    autoplay: true,\n    animationData: cuistot,\n    rendererSettings: {\n      preserveAspectRatio: \"xMidYMid slice\",\n    },\n  };\n  if (isVisible && !decale) {\n    setTimeout(() => {\n      setDecale(true);\n    }, 400);\n  }\n  collectesPercent = Math.round(collectesPercent * 10) / 10;\n  return (\n    <div className=\"collectes-gauge-wrapper\">\n      <div\n        className=\"collectes-cuistot\"\n        style={{\n          marginLeft: `${decale ? collectesPercent : 0}%`,\n          height: \"84px\",\n          width: \"72px\",\n        }}\n      >\n        <Lottie\n          options={defaultOptions}\n          isClickToPauseDisabled={true}\n          height={84}\n        />\n      </div>\n      <div\n        className=\"collectes-gauge\"\n        style={{ width: `${collectesPercent}%` }}\n      ></div>\n      <div\n        className=\"collectes-gauge-percent\"\n        style={{\n          color: collectesPercent >= 90 ? \"white\" : \"rgba(24, 24, 24, 0.6)\",\n          right:\n            collectesPercent >= 90\n              ? `calc(${100 - collectesPercent}% + 46px)`\n              : \"24px\",\n        }}\n      >\n        {collectesPercent}%\n      </div>\n    </div>\n  );\n};\n\nconst CollectesSummary = ({ mealsCount, donatorsCount }) => {\n  const collectesPercent = mealsCount / 500;\n  const now = moment();\n  const end = moment(\"2020-12-31T23:00:00.000Z\");\n  const daysCount = end.diff(now, \"days\");\n  return (\n    <>\n      <div className=\"collectes-summary-images d-lg-block d-none\">\n        <img src={lemon} className=\"ml-5 collectes-summary-image\" />\n        <img src={tomato} className=\"collectes-summary-image\" />\n        <img src={lemontomato} className=\"d-none collectes-summary-image\" />\n      </div>\n      <div className=\"collectes-summary-wrapper\">\n        <div className=\"row justify-content-center\">\n          <div className=\"col-12\">\n            <div className=\"collectes-summary\">\n              <div className=\"row text-center text-lg-left\">\n                <div className=\"col-12 col-lg-6 collectes-summary-section\">\n                  Déjà récoltés\n                  <br />\n                  <h3>\n                    <span className=\"green\">\n                      {mealsCount.toLocaleString()} / 50&nbsp;000\n                    </span>\n                    &nbsp;Repas\n                  </h3>\n                </div>\n                <div className=\"col-lg-3 col-6 collectes-summary-section collectes-summary-section--borders\">\n                  Donateurs\n                  <br />\n                  <h3>\n                    <span className=\"green\">\n                      {donatorsCount < 1000\n                        ? donatorsCount.toLocaleString()\n                        : `${parseInt(donatorsCount / 1000, 10)}k`}\n                    </span>\n                    &nbsp;Personnes\n                  </h3>\n                </div>\n                <div className=\"col-lg-3 col-6 collectes-summary-section\">\n                  Temps restant\n                  <br />\n                  <h3>\n                    <span className=\"green\">{daysCount}</span>&nbsp;Jours\n                  </h3>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row justify-content-center\">\n          <TrackVisibility className=\"col-12\">\n            <Gauge collectesPercent={collectesPercent} />\n          </TrackVisibility>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default CollectesSummary;\n","/* eslint-disable */\n\nimport React, { useState, useEffect, useCallback } from \"react\";\n\nimport axios from \"axios\";\nimport Mailchimp from \"react-mailchimp-form\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport queryString from \"query-string\";\nimport Papa from \"papaparse\";\nimport ReactGA from \"react-ga\";\n\nimport \"./Landing.css\";\nimport Button from \"../button/Button\";\nimport HowWorks from \"../howWorks/HowWorks\";\nimport PoolModal from \"../poolModal/PoolModal\";\nimport reviewer from \"./puce-collegue.svg\";\nimport reviewer2 from \"./puce-famille.svg\";\nimport reviewer3 from \"./puce-reseau.svg\";\nimport tomate from \"./tomate.svg\";\nimport tomateCarotte from \"./tomateCarotte.png\";\nimport Footer from \"../footer/Footer\";\nimport AssoList from \"../assoList/AssoList\";\nimport CollectesSummary from \"../collectesSummary/CollectesSummary\";\nimport api from \"../api\";\n\nconst Landing = () => {\n  const [poolData, setPoolData] = useState(null);\n  const poolId = process.env.REACT_APP_RAVIT_POOL_ID;\n\n  const getPool = useCallback(async () => {\n    try {\n      const { data } = await api.get(`/pool/${poolId}`);\n      setPoolData(data);\n    } catch (e) {\n      console.log(e);\n    }\n  }, [poolId]);\n\n  useEffect(() => {\n    getPool();\n  }, [getPool]);\n\n  setTimeout(() => {\n    if (updateContentIfReady) {\n      updateContentIfReady();\n    }\n  }, 1000);\n\n  return (\n    <div>\n      <div className=\"secondary position-relative text-center top-section\">\n        <div id=\"collectesClosed\" className=\"topBanner\">\n          Les collectes sont actuellement en pause.\n          <br />\n          Pour toute question : contact@lesravitailleurs.org\n        </div>\n        <img\n          id=\"top-carotte\"\n          className=\"top-image\"\n          src=\"/landing/images/top-carotte.svg\"\n        />\n        <img\n          id=\"top-casserole\"\n          className=\"top-image\"\n          src=\"/landing/images/top-casserole.svg\"\n        />\n        <img\n          id=\"top-fouet\"\n          className=\"top-image\"\n          src=\"/landing/images/top-fouet.svg\"\n        />\n        <img\n          id=\"top-rouleau\"\n          className=\"top-image\"\n          src=\"/landing/images/top-rouleau.svg\"\n        />\n        <div className=\"container\">\n          <img className=\"logo mt-5 mb-5\" src=\"/landing/images/logo.svg\" />\n          <h1>Changez leur monde avec des marmites</h1>\n          <div className=\"row justify-content-center\">\n            <div className=\"mb-3 col-lg-8\">\n              Restaurateurs, cuisinez pour les plus précaires. Particuliers,\n              <br />\n              financez leurs matières premières\n            </div>\n          </div>\n          <Link\n            className=\"button button-big mt-5 mb-3\"\n            to=\"/collecte\"\n            onClick={() => {\n              if (process.env.NODE_ENV === \"production\") {\n                ReactGA.event({\n                  category: \"Collectes\",\n                  action: \"click_collect\",\n                });\n              }\n            }}\n          >\n            Accéder à la collecte\n          </Link>\n          <div className=\"text-center mb-5\">\n            <a className=\"small\" id=\"restaurateur-cta\">\n              Vous êtes restaurateur&nbsp;?\n            </a>\n          </div>\n          <div className=\"row justify-content-center\">\n            <div className=\"col-lg-5\">\n              <h3 className=\"mt-5 mb-4\">\n                Chaque repas compte,\n                <br className=\"d-sm-inline d-none\" />\n                alors on les compte pour vous\n              </h3>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"text-center curve-bg\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-2 col-sm-3 meals-count-hand-left\">\n              <img src=\"/landing/images/hand-left-black.svg\" />\n            </div>\n            <div className=\"col-8 col-sm-6\">\n              <div className=\"meals-count\">\n                <div className=\"meals-count-number\" id=\"meals-count-number\">\n                  &nbsp;\n                </div>\n                <div className=\"bold mb-3\">\n                  Repas cuisinés\n                  <br />\n                  par les chefs et restos Ravitailleurs\n                </div>\n                {/* <img\n              src=\"/landing/images/hand-right.svg\"\n              class=\"meals-count-hand-right\"\n            /> */}\n              </div>\n            </div>\n            <div className=\"col-2 col-sm-3 meals-count-hand-right\">\n              <img src=\"/landing/images/hand-right-black.svg\" />\n            </div>\n          </div>\n          <h2 className=\"mt-5 mb-4\">\n            Urgence confinement&nbsp;!\n            <br />\n            Nouvel objectif: financer 50&nbsp;000 repas\n            <br />\n            avant le 31 décembre 2020\n          </h2>\n          <div className=\"row justify-content-center\">\n            <div className=\"mb-3 col-lg-8\">\n              Particuliers, participez à la grande collecte Ravitailleurs et\n              obtenez un reçu fiscal pour votre don\n            </div>\n          </div>\n          <CollectesSummary\n            mealsCount={poolData ? poolData.startAt + poolData.mealCount : 0}\n            donatorsCount={poolData ? poolData.donationsCount : 0}\n          />\n          <Link\n            className=\"button button-big mt-4 mb-5\"\n            to=\"/collecte\"\n            onClick={() => {\n              if (process.env.NODE_ENV === \"production\") {\n                ReactGA.event({\n                  category: \"Collectes\",\n                  action: \"click_collect\",\n                });\n              }\n            }}\n          >\n            Accéder à la collecte\n          </Link>\n\n          <h2 className=\"mt-5 mb-5\">Ils cuisinent pour les plus démunis</h2>\n          <div className=\"row justify-content-between partners-block\">\n            <div className=\"col-6 col-md-3\">\n              <img\n                className=\"partner-logo-deco\"\n                id=\"partner-logo-deco-tomates\"\n                src=\"/landing/images/partner-deco-tomates.svg\"\n              />\n              <div className=\"partner-block\">\n                <img\n                  className=\"partner-logo\"\n                  src=\"/landing/images/partner-frichti.svg\"\n                />\n                <h3 className=\"pb-3 mb-3\">Frichti</h3>\n                <div className=\"bold\">\n                  <span className=\"green\" id=\"frichti-events-count\" />\n                  &nbsp;Événements\n                  <br />\n                  <span className=\"green\" id=\"frichti-meals-count\" />\n                  &nbsp;Repas\n                </div>\n              </div>\n            </div>\n            <div className=\"col-6 col-md-3 mt-md-5\">\n              <img\n                className=\"partner-logo-deco\"\n                id=\"partner-logo-deco-cloche\"\n                src=\"/landing/images/partner-deco-cloche.svg\"\n              />\n              <div className=\"partner-block\">\n                <img\n                  className=\"partner-logo\"\n                  src=\"/landing/images/partner-loufoque.svg\"\n                />\n                <h3 className=\"pb-3 mb-3\">Loufoque</h3>\n                <div className=\"bold\">\n                  <span className=\"green\" id=\"loufoque-events-count\" />\n                  &nbsp;Événements\n                  <br />\n                  <span className=\"green\" id=\"loufoque-meals-count\" />\n                  &nbsp;Repas\n                </div>\n              </div>\n            </div>\n            <div className=\"col-6 col-md-3\">\n              <img\n                className=\"partner-logo-deco\"\n                id=\"partner-logo-deco-toques\"\n                src=\"/landing/images/partner-deco-toques.svg\"\n              />\n              <div className=\"partner-block\">\n                <img\n                  className=\"partner-logo\"\n                  src=\"/landing/images/partner-aux-deux-amis.svg\"\n                />\n                <h3 className=\"pb-3 mb-3\">Aux Deux Amis</h3>\n                <div className=\"bold\">\n                  <span className=\"green\" id=\"aux-deux-amis-events-count\" />\n                  &nbsp;Événements\n                  <br />\n                  <span className=\"green\" id=\"aux-deux-amis-meals-count\" />\n                  &nbsp;Repas\n                </div>\n              </div>\n            </div>\n            <div className=\"col-6 col-md-3 mt-md-5\">\n              <img\n                className=\"partner-logo-deco\"\n                id=\"partner-logo-deco-fouet\"\n                src=\"/landing/images/partner-deco-fouet.svg\"\n              />\n              <div className=\"partner-block\">\n                <img\n                  className=\"partner-logo\"\n                  src=\"/landing/images/partner-big-mamma.svg\"\n                />\n                <h3 className=\"pb-3 mb-3\">Big Mamma</h3>\n                <div className=\"bold\">\n                  <span className=\"green\" id=\"big-mamma-events-count\" />\n                  &nbsp;Événements\n                  <br />\n                  <span className=\"green\" id=\"big-mamma-meals-count\" />\n                  &nbsp;Repas\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-12\">\n              <div\n                className=\"button-secondary mb-4\"\n                data-toggle=\"modal\"\n                data-target=\"#partnersModal\"\n                id=\"partners-modal-button\"\n              >\n                Voir tous les partenaires\n              </div>\n            </div>\n          </div>\n          <div\n            className=\"modal fade\"\n            id=\"partnersModal\"\n            tabIndex={-1}\n            role=\"dialog\"\n            aria-labelledby=\"exampleModalLabel\"\n            aria-hidden=\"true\"\n          >\n            <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n              <div className=\"modal-content\">\n                <div className=\"modal-header text-left\">\n                  <h2 className=\"mb-0\">\n                    Merci à tous ces généreux restaurateurs&nbsp;:\n                  </h2>\n                  <button\n                    type=\"button\"\n                    className=\"close\"\n                    data-dismiss=\"modal\"\n                    aria-label=\"Close\"\n                  >\n                    <img src=\"/landing/images/close.svg\" />\n                  </button>\n                </div>\n                <div className=\"modal-body text-left\" id=\"partners-list\" />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"how-works mt-5\">\n        <div className=\"container pt-5 pb-5\">\n          <div className=\"col-md-9 how-works-left-container\">\n            <div className=\"how-works-left text-center\">\n              <h2>Comment ça marche&nbsp;?</h2>\n              <div className=\"how-works-content\">\n                <div className=\"how-works-digit mt-4\">1.</div>\n                <div>\n                  Vous financez les matières\n                  <br />\n                  premières\n                </div>\n                <div className=\"how-works-digit mt-4\">2.</div>\n                <div>\n                  Nos chefs partenaires\n                  <br />\n                  cuisinent avec le 💛\n                </div>\n                <div className=\"how-works-digit mt-4\">3.</div>\n                <div>\n                  Une personne isolée ou\n                  <br />\n                  exclue se régale\n                </div>\n              </div>\n              <Link\n                className=\"button mt-5\"\n                to=\"/collecte\"\n                onClick={() => {\n                  if (process.env.NODE_ENV === \"production\") {\n                    ReactGA.event({\n                      category: \"Collectes\",\n                      action: \"click_collect\",\n                    });\n                  }\n                }}\n              >\n                Accéder à la collecte\n              </Link>\n              <img\n                src=\"/landing/images/running-chef.svg\"\n                className=\"how-works-illu d-none d-md-inline\"\n              />\n            </div>\n          </div>\n          <div className=\"col-md-7\" />\n          <div className=\"col-12\">\n            <img\n              src=\"/landing/images/running-chef.svg\"\n              className=\"d-inline d-md-none how-works-illu-mobile\"\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"container text-center mb-5\">\n        <h2 className=\"mt-5 mb-3\">Nous sommes fiers de les ravitailler</h2>\n        <div className=\"row no-gutters align-items-center\">\n          <div className=\"col-1 d-none d-sm-block\">\n            <img\n              className=\"carousel-arrow\"\n              id=\"carousel-arrow-left\"\n              src=\"/landing/images/left-arrow.svg\"\n            />\n          </div>\n          <div className=\"col-sm-10 col\">\n            <div className=\"assos-logos-wrapper\">\n              <div className=\"assos-logos\">\n                {/* <img\n                  className=\"asso-logo\"\n                  src=\"/landing/images/restos-du-coeur.svg\"\n                /> */}\n                <img\n                  className=\"asso-logo\"\n                  src=\"/landing/images/protection-civile.svg\"\n                />\n                <img\n                  className=\"asso-logo\"\n                  src=\"/landing/images/secours-populaire.svg\"\n                />\n                <img className=\"asso-logo\" src=\"/landing/images/utopia.svg\" />\n                <img\n                  className=\"asso-logo\"\n                  src=\"/landing/images/banlieues-sante.svg\"\n                />\n                <img\n                  className=\"asso-logo\"\n                  src=\"/landing/images/la-table-ouverte.svg\"\n                />\n                <img\n                  className=\"asso-logo\"\n                  src=\"/landing/images/action-froid.svg\"\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"col-1 d-none d-sm-block\">\n            <img\n              className=\"carousel-arrow\"\n              id=\"carousel-arrow-right\"\n              src=\"/landing/images/right-arrow.svg\"\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"secondary red-banner\" id=\"restaurateur-section\">\n        <div className=\"overflow-hidden\">\n          <div className=\"container text-center\">\n            <h1 className=\"mt-5\">\n              Restaurateurs, faites juste ce que vous aimez\n            </h1>\n            <div>Vous cuisinez, on s’occupe du reste</div>\n            <div className=\"row text-left value-props\">\n              <div className=\"col-12 col-md-4\">\n                <div className=\"value-prop\">\n                  <img src=\"/landing/images/chef.svg\" />\n                  <h3>Zéro temps perdu</h3>\n                  <p>\n                    Vous cuisinez, nous nous chargeons de l'organisation avec\n                    l'association.\n                  </p>\n                </div>\n              </div>\n              <div className=\"col-12 col-md-4\">\n                <div className=\"value-prop\">\n                  <img src=\"/landing/images/cookies.svg\" />\n                  <h3>Zéro coût</h3>\n                  <p>\n                    Vous cuisinez, nous vous remboursons les matières premières\n                    sous 30 jours.\n                  </p>\n                </div>\n              </div>\n              <div className=\"col-12 col-md-4\">\n                <div className=\"value-prop\">\n                  <img className=\"mt-4\" src=\"/landing/images/fruits.svg\" />\n                  <h3>Retour garanti</h3>\n                  <p>\n                    Vous cuisinez, l’association vous fait un retour en images\n                    sur l’événement.\n                  </p>\n                </div>\n              </div>\n            </div>\n            <a\n              className=\"button mb-5 mt-sm-5 mt-2\"\n              href=\"https://forms.gle/RW1AxsqnpPzeW9NY7\"\n              target=\"_blank\"\n              onClick={() => {\n                if (process.env.NODE_ENV === \"production\") {\n                  ReactGA.event({\n                    category: \"Restaurants\",\n                    action: \"click_restoform\",\n                  });\n                }\n              }}\n            >\n              Je rejoins le mouvement\n            </a>\n            <div className=\"row our-mission-wrapper mt-5\">\n              {/* <img\n            id=\"our-mission-hand-1\"\n            class=\"d-none d-sm-inline\"\n            src=\"/landing/images/hand-right.svg\"\n          />\n          <img\n            id=\"our-mission-hand-2\"\n            class=\"d-none d-sm-inline\"\n            src=\"/landing/images/hand-right.svg\"\n          /> */}\n              <div className=\"col\">\n                <div className=\"row our-mission no-gutters text-left\">\n                  <div className=\"col-12 col-lg-8\">\n                    <div className=\"our-mission-left\">\n                      <span className=\"our-mission-title\">NOTRE MISSION</span>\n                      <h1>Lutter contre l’exclusion via le bien manger</h1>\n                      <div className=\"mt-4\">\n                        Manger sain et à sa faim, c’est se considérer, se sentir\n                        considéré. Notre mission : rendre le bien manger\n                        accessible à tous.\n                        <br />\n                        <br />\n                        Nous sommes nés pendant le confinement pour répondre à\n                        l’urgence alimentaire. En deux mois, nous avons mobilisé\n                        des centaines de bénévoles et cuisiné des dizaines de\n                        milliers de repas.\n                        <br />\n                        <br />\n                        Aujourd’hui, nous écrivons un nouveau chapitre des\n                        Ravitailleurs. Notre objectif : avoir de l’impact auprès\n                        de 100 000 personnes chaque mois. Vous-voulez nous aider\n                        à y parvenir ? <br />\n                        <br />\n                        Écrivez-nous à contact@lesravitailleurs.org\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"col-12 col-lg-4 our-mission-right\">\n                    <img\n                      src=\"/landing/images/repas.svg\"\n                      className=\"our-mission-img\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"asso-cta-block-wrapper\">\n              <div className=\"asso-cta-block\">\n                <h2>Vous êtes une association&nbsp;?</h2>\n                <div>Faites vivre un moment spécial à vos bénéficiaires</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"yellow-curve\" id=\"associations-section\">\n        <div className=\"container\">\n          <div id=\"yellow-disc\" className=\"d-none d-sm-block\">\n            <img\n              className=\"d-none d-lg-inline\"\n              src=\"/landing/images/yellow-disc.png\"\n            />\n            <img\n              className=\"d-lg-none\"\n              src=\"/landing/images/yellow-disc-small.png\"\n            />\n          </div>\n          <div className=\"row\">\n            <div className=\"col-12 col-sm-9 bold\">\n              <div>\n                💛&nbsp;&nbsp;&nbsp;Nos restaurateurs cuisinent pour vous avec\n                le coeur\n              </div>\n              <div className=\"mt-3\">\n                👨‍🍳&nbsp;&nbsp;&nbsp;Pas de nouveau process à mettre en place, on\n                s’occupe de tout\n              </div>\n              <div className=\"mt-3 mb-5\">\n                🤝&nbsp;&nbsp;&nbsp;Tout est gratuit\n              </div>\n            </div>\n            <div className=\"col-3 d-none d-sm-block\">\n              {/* <img id=\"asso-cta-image\" src=\"/landing/images/plateau.svg\" /> */}\n            </div>\n            <div className=\"col-12\">\n              <a\n                className=\"button text-center\"\n                href=\"https://forms.gle/a6NXyCZr7zeuJFqFA\"\n                target=\"_blank\"\n                onClick={() => {\n                  if (process.env.NODE_ENV === \"production\") {\n                    ReactGA.event({\n                      category: \"Associations\",\n                      action: \"click_assoform\",\n                    });\n                  }\n                }}\n              >\n                Je prends contact\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"red-banner text-center\">\n        <h2>En direct des cuisines</h2>\n        <a\n          className=\"button-secondary mt-3 mb-5\"\n          href=\"https://www.instagram.com/ravitailleurs/\"\n          target=\"_blank\"\n        >\n          <img src=\"/landing/images/insta.svg\" /> Ravitailleurs\n        </a>\n        <div className=\"insta-feed-wrapper\">\n          <img id=\"insta-hand-left\" src=\"/landing/images/hand-left.svg\" />\n          <img id=\"insta-hand-right\" src=\"/landing/images/hand-right.svg\" />\n          <div id=\"instagram-feed\">\n            <div className=\"instagram_gallery\">\n              <a>\n                <img src=\"/landing/images/insta-square-1.svg\" />\n              </a>\n              <a>\n                <img src=\"/landing/images/insta-square-2.svg\" />\n              </a>\n              <a>\n                <img src=\"/landing/images/insta-square-1.svg\" />\n              </a>\n              <a>\n                <img src=\"/landing/images/insta-square-2.svg\" />\n              </a>\n              <a>\n                <img src=\"/landing/images/insta-square-1.svg\" />\n              </a>\n              <a>\n                <img src=\"/landing/images/insta-square-2.svg\" />\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"secondary footer pt-3 pb-3\">\n        <div className=\"container\">\n          <div className=\"row align-items-center text-center\">\n            <div className=\"col-sm-3 col-12 mb-3 mb-sm-0\">\n              <img src=\"/landing/images/logo.svg\" />\n            </div>\n            <div className=\"col-sm-6 col-12 mb-3 mb-sm-0\">\n              <span>\n                Design par\n                <a href=\"https://source.paris/\" target=\"_blank\">\n                  Source\n                </a>{\" \"}\n                &amp; Développement par\n                <a\n                  href=\"https://www.linkedin.com/in/noemalzieu\"\n                  target=\"_blank\"\n                >\n                  Noé Malzieu\n                </a>\n              </span>\n            </div>\n            <div className=\"col-sm-3 col-12\">\n              <span>Tous droits réservés © 2020</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Landing;\n","import React from \"react\";\n\nimport \"./EditableText.css\";\nimport editable from \"./editable.svg\";\n\nconst EditableText = ({ text, onClick }) => {\n  return (\n    <span className=\"EditableText\" onClick={onClick}>\n      <span>{text}</span>\n      <img src={editable} alt=\"editable\" />\n    </span>\n  );\n};\n\nexport default EditableText;\n","import { Link } from \"react-router-dom\";\nimport React, { useState } from \"react\";\nimport logoRavitailleurs from \"./logo_ravitailleur.svg\";\nimport EditableText from \"../editableText/EditableText\";\nimport PoolModal from \"../poolModal/PoolModal\";\nimport Button from \"../button/Button\";\nimport whitePen from \"./whitePen.svg\";\n\nconst PoolDescription = ({ pool, getPool }) => {\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [messageEdit, setMessageEdit] = useState(false);\n  return (\n    <div\n      className={`PoolDescription ${\n        pool.admin ? \"PoolDescription--admin\" : \"\"\n      }`}\n    >\n      <Link to=\"/\">\n        <img\n          className=\"PoolDescription__logo\"\n          alt=\"logo\"\n          src={logoRavitailleurs}\n        />\n      </Link>\n      {/* <h1>\n        Bienvenue sur la collecte créée par{\" \"}\n        {pool.admin ? (\n          <EditableText\n            text={pool.creatorName}\n            onClick={() => {\n              setMessageEdit(false);\n              setShowEditModal(true);\n            }}\n          />\n        ) : (\n          <span className=\"green\">{pool.creatorName}</span>\n        )}\n      </h1>\n       */}\n       <h1>\n        Bienvenue sur la collecte des<br/><span className=\"green\">Ravitailleurs</span>\n      </h1>\n      <p>\n        Les plus démunis ont besoin, aujourd’hui plus que jamais, d’aide\n        alimentaire. Sans domiciles fixes, migrants, centres d’hébergements,\n        hôtels sociaux n’ont plus assez de plats préparés pour vivre.\n      </p>\n      {/* {(pool.admin || pool.message) && (\n        <div className=\"PoolDescription__Message\">\n          <p>\n            {pool.message ? pool.message : \"Laissez une note aux visiteurs\"}\n          </p>\n          {!pool.admin && <p className=\"green\">{pool.creatorName}</p>}\n          {pool.admin && (\n            <Button\n              onClick={() => {\n                setMessageEdit(true);\n                setShowEditModal(true);\n              }}\n            >\n              {pool.message ? \"Editer le\" : \"Ajouter un\"} message{\" \"}\n              <img src={whitePen} alt=\"whitePen\" />\n            </Button>\n          )}\n        </div>\n      )} */}\n      {showEditModal && (\n        <PoolModal\n          pool={pool}\n          messageMode={messageEdit}\n          onClose={async () => {\n            await getPool();\n            setShowEditModal(false);\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default PoolDescription;\n","import React, { useState } from \"react\";\nimport Clipboard from \"react-clipboard.js\";\n\nimport \"./CopyPaste.css\";\nimport link from \"./link.svg\";\n\nconst CopyPaste = ({ poolId }) => {\n  const [copied, setCopied] = useState(false);\n  const textToCopy = `${document.location.protocol}//${document.location.host}/collecte/${poolId}`;\n  const justCopied = () => {\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  };\n  return (\n    <div className=\"CopyPaste\">\n      <img src={link} alt=\"link\" className=\"CopyPaste__link\" />\n      <div className=\"CopyPaste__content\">{textToCopy}</div>\n      <Clipboard data-clipboard-text={textToCopy} onSuccess={justCopied}>\n        {copied ? \"Copié !\" : \"Copier\"}\n      </Clipboard>\n    </div>\n  );\n};\n\nexport default CopyPaste;\n","import React from \"react\";\nimport {\n  FacebookShareButton,\n  TwitterShareButton,\n  WhatsappShareButton,\n} from \"react-share\";\n\nimport fb from \"./facebook.svg\";\nimport messenger from \"./messenger.svg\";\nimport whatsapp from \"./whatsapp.svg\";\nimport twitter from \"./twitter.svg\";\n\nimport \"./SocialShare.css\";\n\nconst SocialShare = ({ poolId }) => {\n  const url = `${document.location.protocol}//${document.location.host}/collecte/${poolId}`;\n  return (\n    <div className=\"SocialShare\">\n      <TwitterShareButton\n        url={url}\n        title=\"Aidez-moi à collecter des repas pour les plus démunis !\"\n      >\n        <img src={twitter} alt=\"twitter\" />\n      </TwitterShareButton>\n      <FacebookShareButton\n        url={url}\n        quote=\"Aidez-moi à collecter des repas pour les plus démunis !\"\n      >\n        <img src={fb} alt=\"fb\" />\n      </FacebookShareButton>\n      <WhatsappShareButton url={url}>\n        <img src={whatsapp} alt=\"whatsapp\" />\n      </WhatsappShareButton>\n      <a\n        onClick={() =>\n          window.open(\n            `http://www.facebook.com/dialog/send?app_id=2616951421960101&link=${url}&redirect_uri=${url}`,\n            \"Share to messenger\",\n            \"height=400,width=1000,top=100,left=100,modal=yes,alwaysRaised=yes\"\n          )\n        }\n      >\n        <img\n          src={messenger}\n          alt=\"messenger\"\n          style={{ height: 50, top: 9, position: \"relative\" }}\n        />\n      </a>\n    </div>\n  );\n};\n\nexport default SocialShare;\n","import React from \"react\";\n\nimport CopyPaste from \"../copyPaste/CopyPaste\";\nimport SocialShare from '../socialShare/SocialShare';\n\nconst PoolSummary = ({ pool }) => {\n  return (\n    <div className=\"PoolSummary\">\n      <div className=\"PoolSummary__MealCount\">\n        {pool.mealCount + pool.startAt > 0 && (\n          <>\n            <span>Repas collectés</span>\n            <h1>{pool.mealCount + pool.startAt}</h1>\n          </>\n        )}\n        {pool.mealCount + pool.startAt === 0 && (\n          <span>\n            {pool.admin\n              ? \"Votre collecte est vide pour le moment, offrez un premier repas avant de la partager\"\n              : `La collecte de ${pool.creatorName} est vide pour le moment, soyez le premier à offrir un repas !`}\n          </span>\n        )}\n      </div>\n      {pool.admin && pool.mealCount === 0 && pool.startAt > 0 && (\n        <div className=\"PoolSummary__NotEmpty\">\n          Votre collecte n'est pas vide à sa création car nous avons\n          comptabilisé\n          <br />\n          les repas que vous avez déjà offerts dans une précédente collecte\n        </div>\n      )}\n      <h2>Partagez la collecte</h2>\n      <CopyPaste poolId={''} />\n      <SocialShare poolId={''} />\n      {pool.donationsNames.length > 0 && (\n        <div className=\"PoolSummary__Donateurs\">\n          <strong>Donateurs</strong>\n          <br />\n          <br />\n          {pool.donationsNames.join(\" • \")}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PoolSummary;\n","import React, { useState } from \"react\";\nimport { Formik, Form, Field } from \"formik\";\nimport ReactGA from \"react-ga\";\n\nimport { loadStripe } from \"@stripe/stripe-js\";\n// import ClapButton from \"react-clap-button\";\n\nimport api from \"../api\";\nimport \"./GiveModule.css\";\nimport Button from \"../button/Button\";\nimport EditableText from \"../editableText/EditableText\";\nimport Input from \"../input/Input\";\nimport Modal from \"../modal/Modal\";\nimport FormInput from \"../input/FormInput\";\n\nconst stripePromise = loadStripe(process.env.REACT_APP_STRIPE_PUBLISHABLE_KEY);\n\nconst GiveModule = ({ pool }) => {\n  const [mealCount, setMealCount] = useState(0);\n  const [editorMealCount, setEditorMealCount] = useState(\"\");\n  // const [donatorName, setDonatorName] = useState(\"\");\n  // const [donatorAddress, setDonatorAddress] = useState(\"\");\n  const [submitting, setSubmitting] = useState(false);\n  const [editMealCount, setEditMealCount] = useState(false);\n  const [error, setError] = useState(null);\n  const [showTaxModal, setShowTaxModal] = useState(false);\n\n  const GiveIcon = ({ addCount }) => (\n    <div\n      className=\"GiveModule__MealButton__Icon\"\n      onClick={() => setMealCount(mealCount + addCount)}\n    >\n      +{addCount}\n    </div>\n  );\n\n  const GiveCountButton = ({ giveCount }) => (\n    <div className=\"GiveModule__MealButton\">\n      <GiveIcon addCount={giveCount} />\n\n      {/* <ClapButton\n        maxCount={1}\n        isClicked={false}\n        iconComponent={(props) => (\n          <GiveIcon {...props} addCount={giveCount} size={70} />\n        )}\n        ref={(r) => {\n          const onClick = r.onClick;\n          r.onClick = (e) => {\n            elem.dispatchEvent(event);\n\n            elem.addEventListener('build', function (e) { }, false);\n            onClick(e);\n          };\n        }}\n      /> */}\n    </div>\n  );\n\n  const price = mealCount\n    ? mealCount * parseFloat(process.env.REACT_APP_MEAL_PRICE)\n    : 0;\n\n  const validateEditMeal = () => {\n    if (editorMealCount !== \"\") {\n      setMealCount(editorMealCount);\n    }\n    setEditMealCount(false);\n    setEditorMealCount(\"\");\n  };\n\n  return (\n    <div className=\"GiveModule\">\n      <h1>Offrez des repas</h1>\n      <div className=\"GiveModule__MealButtons\">\n        <GiveCountButton giveCount={1} />\n        <GiveCountButton giveCount={10} />\n        <GiveCountButton giveCount={100} />\n      </div>\n      <div className=\"GiveModule__MealCount\">\n        {editMealCount && (\n          <div className=\"GiveModule__MealCountEdit\">\n            <Input\n              placeholder=\"Nombre de repas\"\n              value={editorMealCount}\n              onChange={(e) => {\n                if (e.target.value) {\n                  const newInt = parseInt(e.target.value, 10);\n                  if (!Number.isNaN(Number(newInt))) {\n                    setEditorMealCount(newInt);\n                  }\n                } else {\n                  setEditorMealCount(\"\");\n                }\n              }}\n              onKeyDown={(e) => {\n                if (e.keyCode === 13) {\n                  validateEditMeal();\n                }\n              }}\n            />\n            <Button onClick={validateEditMeal}>OK</Button>\n          </div>\n        )}\n        {!editMealCount && (\n          <div style={{ marginBottom: \"10px\" }}>\n            <EditableText\n              text={`${mealCount} repas`}\n              onClick={() => {\n                setEditorMealCount(mealCount > 0 ? mealCount : \"\");\n                setEditMealCount(true);\n              }}\n            />\n          </div>\n        )}\n        <br />\n\n        <strong style={{ fontSize: \"14px\" }}>\n          {process.env.REACT_APP_MEAL_PRICE}€ = 1 repas\n        </strong>\n        {/* <p style={{ visibility: mealCount > 0 ? \"visible\" : \"hidden\" }}>\n          Soit {mealCount}&nbsp;packaging +&nbsp;{(mealCount * 0.25).toFixed(1)}\n          &nbsp;kg de riz ou de pâtes +&nbsp;{(mealCount * 0.15).toFixed(1)}\n          &nbsp;kg de légumes\n        </p> */}\n      </div>\n      <span className=\"GiveModule__error\">{error && error.message}</span>\n      <div className=\"GiveModule__button\">\n        {/* <Input\n          placeholder=\"Nom de donateur\"\n          value={donatorName}\n          onChange={(e) => {\n            setDonatorName(e.target.value.slice(0, 200));\n          }}\n          onKeyDown={(e) => {\n            if (submitting || mealCount === 0 || editMealCount || !donatorName)\n              return;\n            if (e.keyCode === 13) {\n              donate();\n            }\n          }}\n        /> */}\n        <Button\n          onClick={() => {\n            setShowTaxModal(true);\n            if (process.env.NODE_ENV === \"production\") {\n              ReactGA.event({\n                category: \"Collectes\",\n                action: \"click_donatepage\",\n                value: price,\n              });\n            }\n          }}\n          disabled={\n            submitting || mealCount === 0 || editMealCount\n            //  || !donatorName\n          }\n        >\n          {submitting ? \"Redirection...\" : `Donner ${price ? `${price}€` : \"\"}`}\n        </Button>\n        <div className=\"GiveModule__Details\">\n          <strong>\n            {mealCount === 0\n              ? \"66% du montant déductible des impôts\"\n              : `Soit ${(34 * price) / 100}€ après déduction d'impôts`}\n          </strong>\n          <p>\n            Les 2€ par repas correspondent au remboursement des matières\n            premières et des packagings aux restaurateurs.\n          </p>\n          <p>\n            Les Ravitailleurs est une association loi 1901 d’intérêt général,\n            enregistrée sous le numéro RNA W751256667\n          </p>\n          {/* <p>\n            Le paiement se fera directement auprès de notre fournisseur Frichti,\n            qui nous fournit l'équivalent en matières premières\n          </p> */}\n        </div>\n      </div>\n      {showTaxModal && (\n        <Modal onClose={() => setShowTaxModal(false)}>\n          <h1>Informations pour votre reçu fiscal</h1>\n          <p className=\"PoolModal__description\">\n            Des informations complémentaires sont nécessaires pour que nous\n            puissions générer votre reçu fiscal. Votre adresse est\n            confidentielle et n’apparaîtra pas sur le site.\n          </p>\n\n          <Formik\n            initialValues={{\n              donatorName: \"\",\n              donatorAddress: \"\",\n              hideDonatorName: false,\n            }}\n            validateOnChange={false}\n            validateOnBlur={false}\n            onSubmit={async (values, { setSubmitting }) => {\n              if (process.env.NODE_ENV === \"production\") {\n                ReactGA.event({\n                  category: \"Collectes\",\n                  action: \"click_donateform\",\n                  value: price,\n                });\n              }\n              const { data } = await api.post(\"/donation\", {\n                mealCount,\n                poolId: pool.id,\n                donatorName: values.donatorName.trim(),\n                donatorAddress: values.donatorAddress.trim(),\n                hideDonatorName: values.hideDonatorName,\n              });\n              const stripe = await stripePromise;\n              const { error } = await stripe.redirectToCheckout({\n                sessionId: data.checkoutSessionId,\n              });\n              setSubmitting(false);\n              console.log(error);\n            }}\n          >\n            {({ isSubmitting, values, handleChange, handleBlur, errors }) => (\n              <Form>\n                <FormInput\n                  name=\"donatorName\"\n                  label=\"Nom complet ou nom de votre entreprise\"\n                  placeholder=\"Gérard Menvusa\"\n                  value={values.donatorName}\n                  // onChange={handleChange}\n                  // onBlur={handleBlur}\n                  error={errors.donatorName}\n                  validate={(name) => {\n                    if (name.trim().length === 0) {\n                      return \"Veuillez entrer votre nom complet ou le nom de votre entreprise\";\n                    }\n                  }}\n                />\n                <div\n                  style={{\n                    textAlign: \"left\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    marginBottom: \"20px\",\n                  }}\n                >\n                  <Field type=\"checkbox\" name=\"hideDonatorName\" />\n                  <span\n                    className=\"Input__label\"\n                    style={{ margin: \"0 0 0 10px\", fontWeight: 400 }}\n                  >\n                    Masquer votre nom de la liste des donateurs\n                  </span>\n                </div>\n                <FormInput\n                  name=\"donatorAddress\"\n                  label=\"Adresse complète\"\n                  placeholder=\"Ex: 17 rue de Paris, 75011 Paris\"\n                  value={values.donatorAddress}\n                  // onChange={handleChange}\n                  // onBlur={handleBlur}\n                  error={errors.donatorAddress}\n                  validate={(email) => {\n                    if (email.trim().length === 0) {\n                      return \"Veuillez entrer votre adresse\";\n                    }\n                  }}\n                />\n                <Button type=\"submit\" disabled={isSubmitting}>\n                  {isSubmitting ? \"Redirection...\" : \"Valider\"}\n                </Button>\n              </Form>\n            )}\n          </Formik>\n        </Modal>\n      )}\n    </div>\n  );\n};\n\nexport default GiveModule;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport isMobile from \"../isMobile\";\n\nimport \"./Pool.css\";\nimport PoolDescription from \"./PoolDescription\";\nimport PoolSummary from \"./PoolSummary\";\nimport GiveModule from \"./GiveModule\";\nimport api from \"../api\";\nimport Footer from \"../footer/Footer\";\nimport AssoList from \"../assoList/AssoList\";\nimport HowWorks from \"../howWorks/HowWorks\";\nimport CollectesSummary from \"../collectesSummary/CollectesSummary\";\n\nimport couteau from \"./couteau.svg\";\nimport fouet from \"./fouet1.svg\";\nimport spatule from \"./spatule.svg\";\n\nconst Pool = () => {\n  // const { poolId, adminId } = useParams();\n  const [pool, setPool] = useState(null);\n  const history = useHistory();\n  const poolId = process.env.REACT_APP_RAVIT_POOL_ID;\n\n  // if (adminId) {\n  //   localStorage.setItem(`ravit-admin-${poolId}`, adminId);\n  //   history.push(`/collecte/${poolId}`);\n  // }\n\n  const getPool = useCallback(async () => {\n    try {\n      const savedAdminId = localStorage.getItem(`ravit-admin-${poolId}`);\n      const { data } = await api.get(\n        `/pool/${poolId}${savedAdminId ? `?adminId=${savedAdminId}` : \"\"}`\n      );\n      if (savedAdminId && data.admin === false) {\n        localStorage.removeItem(`ravit-admin-${poolId}`);\n      }\n      localStorage.setItem(\n        `ravit-pool-${poolId}-creator-name`,\n        data.creatorName\n      );\n      setPool(data);\n    } catch (e) {\n      history.push(\"/\");\n    }\n  }, [history, poolId]);\n\n  useEffect(() => {\n    getPool();\n  }, [getPool]);\n\n  return (\n    <div className=\"Pool\">\n      <div className=\"PoolLeft\">\n        <div className=\"PoolLeftContent\">\n          <div style={{ maxWidth: \"1000px\", margin: \"auto\" }}>\n            <img alt=\"fouet\" src={fouet} className=\"PoolLeft__bgFouet\" />\n            <img alt=\"spatule\" src={spatule} className=\"PoolLeft__bgSpatule\" />\n            <img alt=\"couteau\" src={couteau} className=\"PoolLeft__bgCouteau\" />\n            {pool && (\n              <>\n                <PoolDescription pool={pool} getPool={getPool} />\n                {!isMobile && (\n                  <>\n                    <HowWorks />\n                    <br />\n                  </>\n                )}\n                {isMobile && <GiveModule pool={pool} />}\n                {isMobile && <HowWorks />}\n                <div className=\"Pool__CollectesSummary\">\n                  <CollectesSummary\n                    mealsCount={pool ? pool.startAt + pool.mealCount : 0}\n                    donatorsCount={pool ? pool.donationsCount : 0}\n                  />\n                </div>\n                <PoolSummary pool={pool} />\n              </>\n            )}\n            <div className=\"container text-center mb-5\">\n              <h2 className=\"mt-5 mb-3\">\n                Nous sommes fiers de les ravitailler\n              </h2>\n              <div className=\"row no-gutters align-items-center\">\n                <div className=\"col-1 d-none d-sm-block\">\n                  <img\n                    className=\"carousel-arrow\"\n                    id=\"carousel-arrow-left\"\n                    src=\"/landing/images/left-arrow.svg\"\n                  />\n                </div>\n                <div className=\"col-sm-10 col\">\n                  <div className=\"assos-logos-wrapper\">\n                    <div className=\"assos-logos\">\n                      {/* <img\n                        className=\"asso-logo\"\n                        src=\"/landing/images/restos-du-coeur.svg\"\n                      /> */}\n                      <img\n                        className=\"asso-logo\"\n                        src=\"/landing/images/protection-civile.svg\"\n                      />\n                      <img\n                        className=\"asso-logo\"\n                        src=\"/landing/images/secours-populaire.svg\"\n                      />\n                      <img\n                        className=\"asso-logo\"\n                        src=\"/landing/images/utopia.svg\"\n                      />\n                      <img\n                        className=\"asso-logo\"\n                        src=\"/landing/images/banlieues-sante.svg\"\n                      />\n                      <img\n                        className=\"asso-logo\"\n                        src=\"/landing/images/la-table-ouverte.svg\"\n                      />\n                      <img\n                        className=\"asso-logo\"\n                        src=\"/landing/images/action-froid.svg\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"col-1 d-none d-sm-block\">\n                  <img\n                    className=\"carousel-arrow\"\n                    id=\"carousel-arrow-right\"\n                    src=\"/landing/images/right-arrow.svg\"\n                  />\n                </div>\n              </div>\n            </div>\n            {/* <AssoList /> */}\n            {/* <p className=\"Pool__FrichtiHelp\">\n              Les Ravitailleurs sont aidés par Frichti pour la gestion des flux\n              logistiques et financiers.\n              <br />\n              Merci à toute l’équipe pour sa générosité et son soutien.\n            </p> */}\n          </div>\n        </div>\n        <Footer />\n      </div>\n      {!isMobile && (\n        <div className=\"PoolRight\">\n          {pool && (\n            <>\n              <GiveModule pool={pool} />\n            </>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Pool;\n","import { uniq, without } from \"lodash\";\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Typography, Card, Tag, Spin, Alert, Button } from \"antd\";\nimport api from \"../api\";\nimport logo from \"../pool/logo_ravitailleur.svg\";\nimport \"antd/dist/antd.less\";\nimport {\n  LeftSquareTwoTone,\n  PhoneTwoTone,\n  CheckCircleTwoTone,\n} from \"@ant-design/icons\";\nimport \"./Livreur.css\";\n\nconst { Title, Paragraph } = Typography;\n\nconst Livreur = () => {\n  const { livreurId } = useParams();\n  const [livreurData, setLivreurData] = useState(null);\n  const [date, setDate] = useState(null);\n  const [validatedTasks, setValidatedTasks] = useState(\n    localStorage.getItem(`ravit-livreur-${livreurId}-validatedTasks`)\n      ? JSON.parse(\n          localStorage.getItem(`ravit-livreur-${livreurId}-validatedTasks`)\n        )\n      : []\n  );\n  const setValidatedTasksAndSave = (tasks) => {\n    setValidatedTasks(tasks);\n    localStorage.setItem(\n      `ravit-livreur-${livreurId}-validatedTasks`,\n      JSON.stringify(tasks)\n    );\n  };\n  useEffect(() => {\n    const getData = async () => {\n      const { data } = await api.get(`/delivery/${livreurId}`);\n      setLivreurData(data);\n    };\n    getData();\n  }, [livreurId]);\n  if (!livreurData)\n    return (\n      <div className=\"Livreur__SpinContainer\">\n        <img src={logo} className=\"Livreur__Logo\" alt=\"logo\" />\n        <Spin tip=\"Chargement...\" />\n      </div>\n    );\n  if (!livreurData.livreur)\n    return (\n      <>\n        <img src={logo} className=\"Livreur__Logo\" alt=\"logo\" />\n        <Alert\n          message=\"Livreur non trouvé\"\n          description=\"Veuillez vérifier le lien qui vous a été fourni\"\n          type=\"error\"\n        />\n      </>\n    );\n  const dates = uniq(livreurData.tasks.map((d) => d.date));\n  if (!date) {\n    return (\n      <div className=\"Livreur__Details\">\n        <img src={logo} className=\"Livreur__Logo\" alt=\"logo\" />\n        <Paragraph>Bonjour {livreurData.livreur} !</Paragraph>\n        <Paragraph>\n          Merci beaucoup d'aider notre association, nous allons grâce à vous\n          distribuer un grand nombre de repas aux plus démunis\n        </Paragraph>\n        <Title level={2}>Vos documents</Title>\n        <Paragraph>Dérogation</Paragraph>\n        <Title level={2}>Votre planning</Title>\n        {dates.length === 0 && (\n          <p>\n            <em>Aucun planning à venir</em>\n          </p>\n        )}\n        {dates.map((d) => (\n          <a onClick={() => setDate(d)}>\n            {d}\n            <br />\n          </a>\n        ))}\n      </div>\n    );\n  }\n  let planningId = null;\n  const tournees = [];\n  livreurData.tasks.forEach((d) => {\n    if (d.date === date) {\n      if (d.planningId !== planningId) {\n        tournees.push([]);\n        planningId = d.planningId;\n      }\n      tournees[tournees.length - 1].push(d);\n    }\n  });\n\n  return (\n    <div className=\"Livreur__Tournee\">\n      <LeftSquareTwoTone\n        onClick={() => setDate(null)}\n        className=\"Livreur__Back\"\n      />\n      <br />\n      {tournees.map((tasks, tourneeIndex) => (\n        <div className=\"Livreur__Tournee\">\n          <Title level={4}>Tournée {tourneeIndex + 1}</Title>\n          <Paragraph>\n            Le {date}, {tasks[0].horaire}\n          </Paragraph>\n          <Paragraph>Vous avez {tasks.length} points de livraison</Paragraph>\n          {tasks.map((task) => {\n            const taskIsDone = validatedTasks.indexOf(task.id) > -1;\n            return (\n              <Card\n                title={\n                  <span>\n                    {task.phone && (\n                      <span>\n                        <PhoneTwoTone\n                          onClick={() =>\n                            (window.location.href = `tel:${task.phone}`)\n                          }\n                        />\n                        &nbsp;&nbsp;\n                      </span>\n                    )}\n                    {task.contact}\n                  </span>\n                }\n                extra={\n                  taskIsDone ? (\n                    <span>\n                      <CheckCircleTwoTone twoToneColor=\"#52c41a\" />\n                      &nbsp;&nbsp;\n                      <Button\n                        type=\"dashed\"\n                        size=\"small\"\n                        onClick={() =>\n                          setValidatedTasksAndSave(\n                            without(validatedTasks, task.id)\n                          )\n                        }\n                      >\n                        Annuler\n                      </Button>\n                    </span>\n                  ) : (\n                    <Tag color=\"blue\">\n                      {task.destinationId.startsWith(\"A\") ? \"ASSO\" : \"CHEF\"}\n                    </Tag>\n                  )\n                }\n                className={`Livreur__Tournee ${\n                  taskIsDone ? \"Livreur__Tournee--done\" : \"\"\n                }`}\n              >\n                <p>\n                  <a\n                    href={encodeURI(\n                      `https://www.google.com/maps/place/${task.fullAddress}`\n                    )}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    {task.fullAddress}\n                  </a>\n                </p>\n                {task.complementAddress && (\n                  <p>\n                    <em>{task.complementAddress}</em>\n                  </p>\n                )}\n                {task.details && (\n                  <p>\n                    <em>{task.details}</em>\n                  </p>\n                )}\n                {task.comment && (\n                  <p>\n                    <em>{task.comment}</em>\n                  </p>\n                )}\n                <p>\n                  {task.recuperer > 0 && (\n                    <Tag color=\"purple\">Récupérer: {task.recuperer}</Tag>\n                  )}\n                  {task.deposer > 0 && (\n                    <Tag color=\"magenta\">Déposer: {task.deposer}</Tag>\n                  )}\n                </p>\n                <Button\n                  onClick={() =>\n                    setValidatedTasksAndSave(uniq([...validatedTasks, task.id]))\n                  }\n                >\n                  <CheckCircleTwoTone twoToneColor=\"#52c41a\" /> Valider la tâche\n                </Button>\n              </Card>\n            );\n          })}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nconst LivreurContainer = () => (\n  <div className=\"Livreur__Container\">\n    <Livreur />\n  </div>\n);\n\nexport default LivreurContainer;\n","import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport queryString from \"query-string\";\nimport axios from \"axios\";\n\nimport \"./DonationSuccess.css\";\nimport api from \"../api\";\nimport Footer from \"../footer/Footer\";\n\nimport couteau from \"./couteau.svg\";\nimport fouet from \"./fouet1.svg\";\nimport spatule from \"./spatule.svg\";\nimport logo from \"./logo_ravitailleur.svg\";\nimport cookies from \"./cookies.svg\";\nimport successLeftHand from \"./successLeftHand.svg\";\nimport successRightHand from \"./successRightHand.svg\";\nimport CopyPaste from \"../copyPaste/CopyPaste\";\nimport Button from \"../button/Button\";\nimport PoolModal from \"../poolModal/PoolModal\";\nimport SocialShare from \"../socialShare/SocialShare\";\n\nconst DonationSuccess = () => {\n  const { mealCount } = useParams();\n  const poolId = process.env.REACT_APP_RAVIT_POOL_ID;\n  const [pool, setPool] = useState({});\n  const history = useHistory();\n  const [showPoolModal, setShowPoolModal] = useState(false);\n  const [isReceiptAvailable, setIsReceiptAvailable] = useState(false);\n  const { taxReceipt } = queryString.parse(window.location.search);\n\n  const receiptURL = `https://${process.env.REACT_APP_S3_BUCKET}.s3.eu-west-3.amazonaws.com/taxReceipts/${taxReceipt}.pdf`;\n\n  useEffect(() => {\n    const getPool = async () => {\n      try {\n        const { data } = await api.get(`/pool/${poolId}`);\n        setPool(data);\n      } catch (e) {\n        console.log(e);\n        history.push(\"/\");\n      }\n    };\n    getPool();\n  }, [poolId, history]);\n\n  useEffect(() => {\n    const checkReceipt = async () => {\n      try {\n        await axios.get(receiptURL);\n        setIsReceiptAvailable(true);\n      } catch (e) {\n        const timer = setTimeout(checkReceipt, 1000);\n        return () => clearTimeout(timer);\n      }\n    };\n    checkReceipt();\n  }, [setIsReceiptAvailable, receiptURL]);\n\n  return (\n    <div className=\"DonationSuccess\">\n      <img src={logo} alt=\"logo\" className=\"DonationSuccess__logo\" />\n      <div className=\"DonationSuccess__merci__wrapper\">\n        <img\n          src={successLeftHand}\n          alt=\"successLeftHand\"\n          className=\"DonationSuccess__successLeftHand\"\n        />\n        <img\n          src={successRightHand}\n          alt=\"successRightHand\"\n          className=\"DonationSuccess__successRightHand\"\n        />\n        <div className=\"DonationSuccess__merci\">\n          <div className=\"DonationSuccess__totalCount\">\n            <div className=\"DonationSuccess__newCount\">\n              +&nbsp;{mealCount || 0}\n            </div>\n            <h1>{pool.mealCount && pool.mealCount + pool.startAt}</h1>\n            <span>repas dans la collecte</span>\n          </div>\n          <h1>Merci&nbsp;!</h1>\n          <p>\n            Grâce à vous, nous allons pouvoir fournir\n            <br />\n            <b>{mealCount || 0} repas</b> à ceux qui en ont le plus besoin.\n          </p>\n          <a href={receiptURL} target=\"_blank\">\n            <Button disabled={!isReceiptAvailable}>\n              {isReceiptAvailable\n                ? \"Télécharger votre reçu fiscal\"\n                : \"Génération de votre reçu fiscal...\"}\n            </Button>\n          </a>\n          <span\n            style={{\n              fontSize: \"12px\",\n              color: \"rgba(0, 0, 0, 0.6)\",\n              fontWeight: 500,\n            }}\n          >\n            <br />\n            Retrouvez également ce document dans vos mails\n          </span>\n        </div>\n      </div>\n      <div className=\"DonationSuccess__share\">\n        <h1>Partagez la collecte&nbsp;!</h1>\n        <p>\n          Vous pouvez partager la collecte en utilisant le lien suivant&nbsp;:\n        </p>\n        <CopyPaste poolId={\"\"} />\n        <SocialShare poolId={\"\"} />\n      </div>\n      {/* <div className=\"DonationSuccess__new\">\n        <h1>Vous aussi, créez votre collecte en un clic.</h1>\n        <p>\n          Le don que vous venez de faire sera comptabilisé dans cette nouvelle\n          collecte. Proposez à vos collègues, amis, proches d’offrir des repas\n          aux plus démunis.\n        </p>\n        <br />\n        <Button\n          onClick={() => {\n            setShowPoolModal(true);\n          }}\n        >\n          Je crée ma collecte\n        </Button>\n        <br />\n      </div> */}\n      <h1 className=\"DonationSuccess_thanks\">Merci. Chaque repas compte.</h1>\n      <br />\n      <br />\n      <Footer />\n      {showPoolModal && (\n        <PoolModal\n          onClose={() => {\n            setShowPoolModal(false);\n          }}\n        />\n      )}\n      <img alt=\"fouet\" src={fouet} className=\"DonationSuccess__bgFouet\" />\n      <img alt=\"spatule\" src={spatule} className=\"DonationSuccess__bgSpatule\" />\n      <img alt=\"couteau\" src={couteau} className=\"DonationSuccess__bgCouteau\" />\n      <img alt=\"cookies\" src={cookies} className=\"DonationSuccess__bgCookies\" />\n    </div>\n  );\n};\n\nexport default DonationSuccess;\n","import React, { useEffect } from \"react\";\nimport { BrowserRouter, Switch, Route, useLocation } from \"react-router-dom\";\nimport ReactGA from \"react-ga\";\n\nimport Landing from \"./landing/Landing\";\nimport Pool from \"./pool/Pool\";\nimport Livreur from \"./livreur/Livreur\";\nimport DonationSuccess from \"./pool/DonationSuccess\";\n\nif (process.env.NODE_ENV === \"production\") {\n  ReactGA.initialize(\"UA-162359879-1\");\n}\n\nconst AppContent = () => {\n  const location = useLocation();\n\n  useEffect(() => {\n    if (process.env.NODE_ENV === \"production\") {\n      ReactGA.set({ page: location.pathname });\n      ReactGA.pageview(location.pathname);\n    }\n  }, [location]);\n\n  return (\n    <Switch>\n      <Route path=\"/collecte/merci/:mealCount\">\n        <DonationSuccess />\n      </Route>\n      {/* <Route path=\"/collecte/:poolId/admin/:adminId\">\n        <Pool />\n      </Route> */}\n      <Route path=\"/collecte\">\n        <Pool />\n      </Route>\n      <Route path=\"/livreur/:livreurId\">\n        <Livreur />\n      </Route>\n      <Route path=\"/\">\n        <Landing />\n      </Route>\n    </Switch>\n  );\n};\n\nexport default function App() {\n  return (\n    <BrowserRouter>\n      <AppContent />\n    </BrowserRouter>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import 'react-app-polyfill/ie9';\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo_ravitailleur.92d9f772.svg\";"],"sourceRoot":""}